<section class="border border-gray-200 shadow-xs rounded bg-gray-200 md:w-1/2 mx-auto mt-16 p-6">
  <div>
    <h2 class="mb-3 text-indigo-600 font-bold text-3xl text-center">Forgot Password</h2>
    <p class="text-center text-gray-600 text-sm mb-6">
      Enter your email address and we'll send you a link to reset your password
    </p>
  </div>

  <form [formGroup]="forgotPasswordForm" (ngSubmit)="submitForm()">
    <div>
      @let emailControl = forgotPasswordForm.get('email');
      <label for="email" class="elite-lable">Email</label>
      <input
        formControlName="email"
        type="email"
        id="email"
        class="elite-input mb-2"
        [class.bg-indigo-50]="emailControl?.valid"
        [class.bg-red-50]="emailControl?.invalid && emailControl?.touched"
        placeholder="Enter your email"
      />

      @if (emailControl?.errors && emailControl?.touched) {
        <div
          class="flex items-center p-2.5 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-red-200 dark:text-red-400 my-2"
          role="alert"
        >
          <div>
            <ul class="list-disc list-inside">
              @if (emailControl?.getError('required')) {
                <li>Email is required</li>
              } @else if (emailControl?.getError('email')) {
                <li>Please enter a valid email address</li>
              }
            </ul>
          </div>
        </div>
      }
    </div>

    @if (successMessage()) {
      <div
        class="flex items-center justify-center gap-2 p-2.5 mb-4 text-sm text-green-800 rounded-lg bg-green-100 dark:bg-green-200 dark:text-green-600 w-[70%] mx-auto my-4"
        role="alert"
      >
        <svg
          class="w-5 h-5 text-green-600 shrink-0"
          xmlns="http://www.w3.org/2000/svg"
          fill="currentColor"
          viewBox="0 0 20 20"
        >
          <path
            d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"
          />
        </svg>
        <p class="text-center">{{ successMessage() }}</p>
      </div>
    }

    @if (errorMessage()) {
      <div
        class="flex items-center justify-center gap-2 p-2.5 mb-4 text-sm text-red-800 rounded-lg bg-red-100 dark:bg-red-200 dark:text-red-400 w-[70%] mx-auto my-4"
        role="alert"
      >
        <svg
          class="w-5 h-5 text-red-600 shrink-0"
          xmlns="http://www.w3.org/2000/svg"
          fill="currentColor"
          viewBox="0 0 20 20"
        >
          <path
            fill-rule="evenodd"
            d="M8.257 3.099c.765-1.36 2.72-1.36 3.485 0l6.451 11.477c.75 1.334-.213 2.996-1.742 2.996H3.548c-1.53 0-2.492-1.662-1.743-2.996L8.257 3.1zM11 13a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-1-7a1 1 0 0 0-1 1v3a1 1 0 1 0 2 0V7a1 1 0 0 0-1-1z"
            clip-rule="evenodd"
          />
        </svg>
        <p class="text-center">{{ errorMessage() }}</p>
      </div>
    }

    <div class="mb-3 flex flex-wrap justify-center mt-3">
      <button [disabled]="isLoading()" type="submit" class="btn-elite px-8 py-3 w-full md:w-1/2">
        Send Reset Link
        @if (isLoading()) {
          <span>
            <i class="fas fa-spinner animate-spin"></i>
          </span>
        }
      </button>
    </div>

    <!-- Back to Login Link -->
    <div class="mt-6 text-center border-t border-gray-300 pt-4">
      <p class="text-sm text-gray-600">
        Remember your password?
        <a
          routerLink="/login"
          class="text-indigo-600 hover:text-indigo-800 font-semibold hover:underline transition-colors duration-200 ml-1 cursor-pointer"
        >
          Login now
        </a>
      </p>
    </div>
  </form>
</section>
